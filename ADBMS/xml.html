<!DOCTYPE html>
<html>
<head>
  <script>
    function loadXMLDoc(filename) {
      if (window.XMLHttpRequest) {
        xhttp = new XMLHttpRequest();
      } else {  // code for IE5 and IE6
        xhttp = new ActiveXObject("Microsoft.XMLHTTP");
      }
      xhttp.open("GET", filename, false);
      xhttp.send();
      return xhttp.responseXML;
    }

    function displayResult(queryType) {
      var xmlDoc = loadXMLDoc("../books.xml");
      var result = "";
      var x;
      if (queryType === "allBooks") {
        x = xmlDoc.getElementsByTagName("book");
        result += "<tr><th>Title</th><th>Author</th></tr>";
        for (i = 0; i < x.length; i++) {
          result += "<tr><td>" +
            x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue +
            "</td><td>" +
            x[i].getElementsByTagName("author")[0].childNodes[0].nodeValue +
            "</td></tr>";
        }
      } else if (queryType === "allAuthors") {
        x = xmlDoc.getElementsByTagName("author");
        result += "<tr><th>Author</th></tr>";
        for (i = 0; i < x.length; i++) {
          result += "<tr><td>" +
            x[i].childNodes[0].nodeValue +
            "</td></tr>";
        }
      }
      document.getElementById("demo").innerHTML = "<table border='1'>" + result + "</table>";
    }
  </script>
</head>
<body>

<h2>My Books</h2>
<button type="button" onclick="displayResult('allBooks')">Get all books</button>
<button type="button" onclick="displayResult('allAuthors')">Get all authors</button>
<br><br>
<table id="demo"></table>

</body>
</html>
